{% extends '模板.html' %}

{% block title %}修改密码{% endblock %}

{% block navbar %}
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
            <a class="nav-item nav-link" href="/主页">主页</a>
            <a class="nav-item nav-link" href="/个人信息">个人信息</a>
            <a class="nav-item nav-link" href="/修改密码">修改密码</a>
            <a class="nav-item nav-link" href="/登出">登出</a>
        </div>
    </div>
{% endblock %}

{% block content %}
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for message in messages %}
                {% if message == '密码修改成功！' %}
                    <div class="alert alert-success" role="alert">
                        {{ message }}
                    </div>
                {% else %}
                    <div class="alert alert-danger" role="alert">
                        {{ message }}
                    </div>
                {% endif %}
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form action="/修改密码" method="post">
        <div class="form-group">
            <label>原密码</label>
                <input name="old_password" type="password" class="form-control">
        </div>
        <div class="form-group">
            <label>新密码</label>
                <input name="new_password" type="password" class="form-control">
        </div>
        <div class="form-group">
            <label>确认密码</label>
                <input name="repeat_new_password" type="password" class="form-control">
        </div>
        <button type="submit" class="btn btn-primary">确认修改</button>
    </form>
{% endblock %}